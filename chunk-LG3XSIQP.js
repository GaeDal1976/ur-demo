import{Ka as N,b as T,f as A,j as F,l as k}from"./chunk-5M4TV7DC.js";import{$ as m,Aa as u,Bb as M,Cb as V,Db as S,Fb as v,Ka as w,Qa as C,Qb as f,Xa as _,_a as h,aa as p,db as o,eb as l,ia as E,jb as y,nb as b,ob as s,xb as c}from"./chunk-QIVHEG4A.js";var R=()=>({color:"var(--primary-darker)"});function W(i,g){i&1&&(o(0,"div",4)(1,"h2",5),c(2,"Modifica Fine Validita"),l()())}function L(i,g){if(i&1){let e=y();o(0,"div",6)(1,"p",7),c(2,"Seleziona la data di fine Validit\xE0"),l(),o(3,"div",8)(4,"div",9)(5,"label",10),c(6," Validit\xE0 a "),l(),o(7,"p-datepicker",11),S("ngModelChange",function(t){m(e);let a=s();return V(a.editValidityDate,t)||(a.editValidityDate=t),p(t)}),l()()()()}if(i&2){let e=s();u(5),h(v(4,R)),u(2),_("minDate",e.today),M("ngModel",e.editValidityDate)}}function U(i,g){if(i&1){let e=y();o(0,"div",12)(1,"button",13),b("click",function(){m(e);let t=s();return p(t.cancel.emit())}),c(2," Annulla "),l(),o(3,"button",14),b("click",function(){m(e);let t=s();return p(t.select.emit(t.editValidityDate))}),c(4," Conferma "),l()()}if(i&2){let e=s();u(3),_("disabled",!e.editValidityDate)}}var J=(()=>{class i{select=new E;cancel=new E;visible=!0;editValidityDate;today=new Date;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=w({type:i,selectors:[["edit-validity-date-modal"]],outputs:{select:"select",cancel:"cancel"},decls:7,vars:2,consts:[["header",""],["content",""],["footer",""],[3,"visibleChange","modal","visible"],[1,"inline-flex","items-center","justify-center","gap-2"],[1,"text-2xl"],[1,"flex","flex-col","gap-4","mb-4"],[1,"mb-3"],[1,"ur-form"],[1,"ur-form-group"],["for","validitaA",1,"required","font-semibold"],[3,"ngModelChange","minDate","ngModel"],[1,"flex","justify-between","w-full"],["type","button",1,"ur-button","secondary",3,"click"],["type","button",1,"ur-button","accent",3,"click","disabled"]],template:function(n,t){if(n&1){let a=y();o(0,"p-dialog",3),S("visibleChange",function(r){return m(a),V(t.visible,r)||(t.visible=r),p(r)}),C(1,W,3,0,"ng-template",null,0,f)(3,L,8,5,"ng-template",null,1,f)(5,U,5,1,"ng-template",null,2,f),l()}n&2&&(_("modal",!0),M("visible",t.visible))},dependencies:[F,T,A,k,N],encapsulation:2})}return i})();var Q=(()=>{class i{static DEFAULT_DATE_FORMATE="yyyy-MM-dd HH:mm:ss.SSS";static parseDateToString(e,n=this.DEFAULT_DATE_FORMATE){let t=a=>a.toString().padStart(2,"0");return typeof e=="string"&&(e=Number(e)),typeof e=="number"&&(e=new Date(e*1e3)),e instanceof Date?n.replace("yyyy",e.getFullYear().toString()).replace("MM",t(e.getMonth()+1)).replace("dd",t(e.getDate())).replace("HH",t(e.getHours())).replace("mm",t(e.getMinutes())).replace("ss",t(e.getSeconds())).replace("SSS",e.getMilliseconds().toString().padStart(3,"0")):e}static parseStringToDate(e,n=this.DEFAULT_DATE_FORMATE){if(!e)return null;try{let t=this.parseDateParts(e,n),[a,d,r,D,x,H,P]=[Number(t.yyyy),Number(t.MM),Number(t.dd),Number(t.HH||0),Number(t.mm||0),Number(t.ss||0),Number(t.SSS||0)];return new Date(a,d-1,r,D,x,H,P)}catch(t){return console.log(t),null}}static parseDateParts(e,n){let t=/[-\/:\s.]+/,a=n.split(t),d=e.split(t);if(a.length!==d.length)throw new Error("Date does not match the expected format");let r={};return a.forEach((D,x)=>{r[D]=d[x]}),r}}return i})();export{J as a,Q as b};
